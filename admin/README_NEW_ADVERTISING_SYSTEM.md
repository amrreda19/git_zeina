# 🎯 النظام الجديد للإعلانات - نظام الخانات مع التناوب

## 📋 نظرة عامة

تم تحديث نظام الإعلانات ليعمل بنظام **الخانات** بدلاً من نظام **الأولوية**، مما يتيح عرض أكثر من منتج في كل خانة مع آلية تناوب تلقائية.

## 🔄 الميزات الجديدة

### 1. **نظام الخانات (6 خانات)**
- كل خانة يمكن أن تحتوي على **أكثر من منتج واحد**
- المنتجات تظهر بالتناوب حسب السرعة المحددة
- لا يتم استبدال المنتجات القديمة عند إضافة منتجات جديدة

### 2. **آلية التناوب التلقائية**
- كل منتج يظهر لثوانٍ محددة (افتراضي: 10 ثوانٍ)
- التناوب مستمر حتى آخر منتج ثم يعود للأول
- يعمل حتى بعد تحديث الصفحة

### 3. **إدارة مرنة**
- إضافة منتجات جديدة لخانات مشغولة
- تعديل سرعة التناوب لكل إعلان
- عرض عدد المنتجات في كل خانة

## 🛠️ كيفية الاستخدام

### **إضافة إعلان جديد:**

1. **اختر التصنيف:** (تورتات، كوشات، مرايا، ديكورات متنوعة، دعوات)
2. **اختر المنتج:** من قائمة المنتجات المتوفرة
3. **اختر نوع الإعلان:** (مميز، موصى به، بانر)
4. **اختر الموضع:** (الصفحة الرئيسية، صفحة التصنيف، الشريط الجانبي)
5. **حدد التواريخ:** تاريخ البداية والانتهاء
6. **اختر رقم الخانة:** من 1 إلى 6
7. **حدد سرعة التناوب:** بالثواني (5-60 ثانية)
8. **أضف الميزانية:** (اختياري)

### **مثال عملي:**

```
الخانة رقم 1:
- تورتة عيد ميلاد (تظهر 10 ثوانٍ)
- تورتة زفاف (تظهر 10 ثوانٍ)
- تورتة مناسبات (تظهر 10 ثوانٍ)
- ثم تعود للتورتة الأولى... وهكذا
```

## 📊 عرض الخانات في الصفحة الرئيسية

### **معلومات كل خانة:**
- **رقم الخانة**
- **عدد المنتجات** الموجودة
- **المنتج الحالي** المعروض
- **مؤشر الحالة** (فارغة، نشطة، جاري التحميل)

### **أنماط العرض:**
- **خانة فارغة:** 📭 مع رسالة "لا توجد منتجات"
- **خانة نشطة:** 🔄 مع عدد المنتجات
- **خانة جارية التحميل:** ⏳ مع رسالة "جاري التحميل"

## ⚙️ الإعدادات المتقدمة

### **سرعة التناوب:**
- **5 ثوانٍ:** سريع جداً (مناسب للمنتجات المميزة)
- **10 ثوانٍ:** سريع (افتراضي)
- **20 ثانية:** متوسط (مناسب للمنتجات العادية)
- **30-60 ثانية:** بطيء (مناسب للمنتجات التفصيلية)

### **إدارة الخانات:**
- **تحديث تلقائي** عند إضافة/تعديل/حذف إعلانات
- **تحديث يدوي** عبر زر "🔄 تحديث الخانات"
- **مراقبة الأداء** لكل خانة

## 🔧 الدوال التقنية

### **نظام التناوب:**
```javascript
class ProductRotationSystem {
    startRotation(slotNumber, products, rotationSpeed)
    stopRotation(slotNumber)
    updateProductDisplay(slotNumber, product)
    restartAllRotations()
}
```

### **إدارة الخانات:**
```javascript
createFeaturedSlotsDisplay()     // إنشاء عرض الخانات
updateSlotContent(slotNumber, products)  // تحديث محتوى خانة
refreshAllSlots()               // تحديث جميع الخانات
checkSlotAvailability()         // فحص توفر الخانة
```

## 📱 الواجهة

### **ألوان المؤشرات:**
- **🔄 نشط:** أخضر (#d1fae5)
- **📭 فارغة:** أصفر (#fef3c7)
- **⏳ جاري التحميل:** رمادي (#f3f4f6)

### **تأثيرات بصرية:**
- **Hover effects** على البطاقات
- **انتقالات سلسة** بين المنتجات
- **مؤشرات حالة** واضحة
- **رسائل توضيحية** لكل خانة

## 🚀 المزايا

### **للمدير:**
- **استغلال أفضل** للمساحة المتوفرة
- **مرونة في العرض** حسب الحاجة
- **إدارة سهلة** للمنتجات
- **مراقبة الأداء** لكل خانة

### **للمستخدم:**
- **تنوع أكبر** في المنتجات المعروضة
- **عرض مستمر** للمنتجات
- **تجربة تفاعلية** مع التناوب
- **اكتشاف منتجات جديدة**

## 🔍 استكشاف الأخطاء

### **مشاكل شائعة:**

1. **الخانة لا تعرض منتجات:**
   - تأكد من أن الإعلان نشط
   - تحقق من رقم الخانة
   - اضغط "🔄 تحديث الخانات"

2. **التناوب لا يعمل:**
   - تأكد من تحميل JavaScript
   - تحقق من سرعة التناوب
   - أعد تحميل الصفحة

3. **منتج لا يظهر:**
   - تأكد من وجود صور للمنتج
   - تحقق من حالة الإعلان
   - تأكد من صحة البيانات

### **حلول سريعة:**
- **تحديث الصفحة** (F5)
- **تحديث الخانات** يدوياً
- **فحص Console** للأخطاء
- **إعادة إنشاء** الإعلان

## 📈 التطوير المستقبلي

### **ميزات مقترحة:**
- **إحصائيات مفصلة** لكل خانة
- **جدولة زمنية** للتناوب
- **أولوية داخلية** للمنتجات في نفس الخانة
- **تخصيص تصميم** لكل خانة
- **إشعارات** عند انتهاء صلاحية الإعلانات

### **تحسينات الأداء:**
- **Lazy loading** للصور
- **Caching** للبيانات
- **Optimization** للتناوب
- **Analytics** متقدمة

---

## 📞 الدعم

للاستفسارات أو المشاكل:
- **مراجعة Console** للمطورين
- **فحص Network** للاتصالات
- **تحديث الصفحة** كحل أولي
- **إعادة إنشاء** الإعلانات المشكلة

---

**🎉 النظام الجديد جاهز للاستخدام! استمتع بإدارة إعلانات أكثر مرونة وفعالية.**
